<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - AI Pricing Agent | VTX</title>
    {% load static %}

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              navy: {
                50: '#f0f4f8',
                100: '#d9e2ec',
                200: '#bcccdc',
                300: '#9fb3c8',
                400: '#829ab1',
                500: '#627d98',
                600: '#486581',
                700: '#334e68',
                800: '#243b53',
                900: '#1e3a8a',
                950: '#172554'
              }
            }
          }
        }
      }
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
      .bg-pattern {
        background: linear-gradient(135deg, #172554 0%, #1e3a8a 25%, #2563eb 50%, #1e3a8a 75%, #172554 100%);
        background-size: 400% 400%;
        animation: gradient-shift 15s ease infinite;
        position: relative;
        overflow: hidden;
      }
      
      .bg-pattern::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(99, 102, 241, 0.3) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(30, 58, 138, 0.2) 0%, transparent 50%);
        animation: pulse 10s ease-in-out infinite;
      }
      
      @keyframes gradient-shift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
      
      @keyframes pulse {
        0%,
        100% {
          opacity: 0.8;
        }
        50% {
          opacity: 0.4;
        }
      }
      
      /* Network grid effect */
      .network-grid {
        position: absolute;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 50px 50px;
        animation: grid-move 20s linear infinite;
      }
      
      @keyframes grid-move {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(50px, 50px);
        }
      }
      
      .glass-effect {
        background: rgba(255, 255, 255, 0.97);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 100px rgba(59, 130, 246, 0.1);
      }
      
      .form-container {
        animation: slide-up 0.6s ease-out;
      }
      
      @keyframes slide-up {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .input-focus {
        transition: all 0.3s ease;
      }
      
      .input-focus:focus {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(30, 58, 138, 0.15);
      }
      
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
        100% {
          transform: translateY(0px);
        }
      }
      
      .float-animation {
        animation: float 6s ease-in-out infinite;
      }
      
      .gradient-text {
        background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
    </style>
  </head>
  <body class="bg-pattern min-h-screen flex items-center justify-center p-4">
    <!-- Network grid overlay -->
    <div class="network-grid pointer-events-none"></div>

    <!-- Floating particles for AI/tech feel -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
      <!-- Large orbs -->
      <div class="absolute top-20 left-20 w-72 h-72 rounded-full opacity-20 float-animation" style="background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, transparent 70%);"></div>
      <div class="absolute bottom-20 right-20 w-96 h-96 rounded-full opacity-20 float-animation" style="animation-delay: 3s; background: radial-gradient(circle, rgba(99, 102, 241, 0.4) 0%, transparent 70%);"></div>

      <!-- Small particles -->
      <div class="absolute top-1/3 right-1/4 w-4 h-4 bg-white rounded-full opacity-30 float-animation" style="animation-delay: 1s;"></div>
      <div class="absolute bottom-1/3 left-1/4 w-3 h-3 bg-blue-300 rounded-full opacity-40 float-animation" style="animation-delay: 2s;"></div>
      <div class="absolute top-2/3 left-1/3 w-2 h-2 bg-white rounded-full opacity-50 float-animation" style="animation-delay: 4s;"></div>
    </div>

    <!-- Login Container -->
    <div class="w-full max-w-md relative z-10">
      <!-- Logo and Title -->
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-32 h-32 bg-transparent rounded-2xl mb-6 p-4 transform hover:scale-110 transition-transform duration-300">
          <img src="{% static 'images/vtx_logo_white.png' %}" alt="VTX Logo" class="w-full h-full object-contain filter drop-shadow-2xl" />
        </div>
        <h1 class="text-5xl font-bold text-white mb-3 tracking-tight">Welcome Back</h1>
        <p class="text-xl text-navy-200 font-light">AI-Powered Pricing & Procurement Platform</p>
        <div class="mt-2 flex items-center justify-center space-x-4 text-sm text-navy-300">
          <span class="flex items-center"><i class="fas fa-shield-alt mr-1"></i> Enterprise Secure</span>
          <span>•</span>
          <span class="flex items-center"><i class="fas fa-bolt mr-1"></i> Real-time Analytics</span>
          <span>•</span>
          <span class="flex items-center"><i class="fas fa-brain mr-1"></i> AI Insights</span>
        </div>
      </div>

      <!-- Login Form -->
      <div class="glass-effect rounded-2xl shadow-2xl p-8 form-container">
        {% if messages %}
          {% for message in messages %}
            <div class="mb-4 p-3 rounded-lg {% if message.tags == 'error' %}
                
                bg-red-100 text-red-700 border border-red-200

              {% elif message.tags == 'success' %}
                
                bg-green-100 text-green-700 border border-green-200

              {% else %}
                
                bg-blue-100 text-blue-700 border border-blue-200

              {% endif %}">
              <div class="flex items-center">
                <i class="fas fa-{% if message.tags == 'error' %}
                    
                    exclamation-circle

                  {% elif message.tags == 'success' %}
                    
                    check-circle

                  {% else %}
                    
                    info-circle

                  {% endif %} mr-2">

                </i>
                {{ message }}
              </div>
            </div>
          {% endfor %}
        {% endif %}

        <form method="post" action="{% url 'accounts:login' %}" class="space-y-6">
          {% csrf_token %}
          {% if request.GET.next %}
            <input type="hidden" name="next" value="{{ request.GET.next }}">
          {% endif %}

          <!-- Username/Email Field -->
          <div>
            <label for="username" class="block text-sm font-medium text-gray-700 mb-2">Username or Email</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-user text-gray-400"></i>
              </div>
              <input type="text" id="username" name="username" required class="input-focus block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent" placeholder="Enter your username or email" />
            </div>
          </div>

          <!-- Password Field -->
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-lock text-gray-400"></i>
              </div>
              <input type="password" id="password" name="password" required class="input-focus block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent" placeholder="Enter your password" />
              <button type="button" onclick="togglePassword()" class="absolute inset-y-0 right-0 pr-3 flex items-center"><i id="password-icon" class="fas fa-eye text-gray-400 hover:text-gray-600"></i></button>
            </div>
          </div>

          <!-- Remember Me & Forgot Password -->
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input type="checkbox" id="remember" name="remember" class="h-4 w-4 text-navy-600 focus:ring-navy-500 border-gray-300 rounded" />
              <label for="remember" class="ml-2 block text-sm text-gray-700">Remember me</label>
            </div>
            <a href="{% url 'core:password_reset' %}" class="text-sm text-navy-600 hover:text-navy-800 font-medium">Forgot password?</a>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-gradient-to-r from-navy-900 to-navy-700 hover:from-navy-800 hover:to-navy-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-navy-500 transition-all duration-200 font-medium">
            <i class="fas fa-sign-in-alt mr-2"></i>
            Sign In
          </button>

          <!-- SSO Options -->
          <div class="relative my-6">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-2 bg-white text-gray-500">Or continue with</span>
            </div>
          </div>

          <div class="grid grid-cols-3 gap-3">
            <button type="button" onclick="ssoLogin('microsoft')" class="flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"><i class="fab fa-microsoft text-blue-600"></i></button>
            <button type="button" onclick="ssoLogin('google')" class="flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"><i class="fab fa-google text-red-500"></i></button>
            <button type="button" onclick="ssoLogin('github')" class="flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"><i class="fab fa-github text-gray-800"></i></button>
          </div>
        </form>

        <!-- Sign Up Link -->
        <div class="mt-6 text-center">
          <p class="text-sm text-gray-600">
            Don't have an account?
            <a href="{% url 'core:register' %}" class="font-medium text-navy-600 hover:text-navy-800">Sign up</a>
          </p>
        </div>
      </div>

      <!-- Footer -->
      <div class="mt-8 text-center">
        <p class="text-sm text-navy-200">© 2025 Versatex Analytics. All rights reserved.</p>
        <div class="mt-2 space-x-4">
          <a href="#" class="text-sm text-navy-200 hover:text-white">Privacy Policy</a>
          <a href="#" class="text-sm text-navy-200 hover:text-white">Terms of Service</a>
          <a href="#" class="text-sm text-navy-200 hover:text-white">Contact Support</a>
        </div>
      </div>
    </div>

    <!-- Demo Credentials Info -->
    <div class="fixed bottom-4 right-4 glass-effect rounded-lg p-4 max-w-xs">
      <div class="flex items-start">
        <i class="fas fa-info-circle text-navy-600 mt-1 mr-2"></i>
        <div>
          <p class="text-sm font-medium text-gray-800">Demo Credentials</p>
          <p class="text-xs text-gray-600 mt-1">
            Admin: admin / admin123<br />
            Analyst: analyst / analyst123<br />
            User: user / user123
          </p>
        </div>
      </div>
    </div>

    <script>
      function togglePassword() {
        const passwordInput = document.getElementById('password')
        const passwordIcon = document.getElementById('password-icon')
      
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text'
          passwordIcon.classList.remove('fa-eye')
          passwordIcon.classList.add('fa-eye-slash')
        } else {
          passwordInput.type = 'password'
          passwordIcon.classList.remove('fa-eye-slash')
          passwordIcon.classList.add('fa-eye')
        }
      }
      
      function ssoLogin(provider) {
        // Placeholder for SSO integration
        console.log(`SSO login with ${provider}`)
        // In production, this would redirect to the SSO provider
        alert(`${provider} SSO integration coming soon!`)
      }
      
      // Auto-hide messages after 5 seconds
      setTimeout(() => {
        const messages = document.querySelectorAll('[class*="bg-"][class*="-100"]')
        messages.forEach((msg) => {
          msg.style.transition = 'opacity 0.5s'
          msg.style.opacity = '0'
          setTimeout(() => msg.remove(), 500)
        })
      }, 5000)
    </script>
  </body>
</html>
