# Kubernetes Secrets - NEVER commit actual secrets to git!
# This is a template showing the structure. Use proper secret management.

apiVersion: v1
kind: Secret
metadata:
  name: pricing-agent-secrets
  namespace: pricing-agent
  labels:
    app: pricing-agent
    component: secrets
type: Opaque
data:
  # Base64 encoded values - replace with actual values
  # Use: echo -n "your-secret" | base64
  
  # Django Secret Key (required)
  SECRET_KEY: eW91ci1zdXBlci1zZWNyZXQta2V5LWhlcmU=  # your-super-secret-key-here
  
  # Database Password
  POSTGRES_PASSWORD: cHJpY2luZ19wYXNzd29yZA==  # pricing_password
  
  # Redis Password
  REDIS_PASSWORD: cmVkaXNfcGFzc3dvcmQ=  # redis_password
  
  # ML Service JWT Secret
  ML_SERVICE_JWT_SECRET: bWwtc2VydmljZS1qd3Qtc2VjcmV0  # ml-service-jwt-secret
  
  # External Service Keys (if needed)
  AWS_ACCESS_KEY_ID: ""
  AWS_SECRET_ACCESS_KEY: ""
  
  # Email Configuration
  EMAIL_HOST_PASSWORD: ""
  
  # Sentry DSN for error tracking
  SENTRY_DSN: ""

---
apiVersion: v1
kind: Secret
metadata:
  name: pricing-tls-secret
  namespace: pricing-agent
  labels:
    app: pricing-agent
    component: tls
type: kubernetes.io/tls
data:
  # TLS Certificate and Key (base64 encoded)
  # Generate using: kubectl create secret tls pricing-tls-secret --cert=path/to/cert --key=path/to/key
  tls.crt: LS0tLS1CRUdJTi...  # Base64 encoded certificate
  tls.key: LS0tLS1CRUdJTi...  # Base64 encoded private key

---
apiVersion: v1
kind: Secret
metadata:
  name: pricing-docker-registry
  namespace: pricing-agent
  labels:
    app: pricing-agent
    component: registry
type: kubernetes.io/dockerconfigjson
data:
  # Docker registry credentials for pulling private images
  # Create using: kubectl create secret docker-registry pricing-docker-registry --docker-server=your-registry --docker-username=user --docker-password=pass
  .dockerconfigjson: eyJhdXRocyI6e...  # Base64 encoded docker config

---
# External Secrets Operator Configuration (if using external secret management)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: pricing-secret-store
  namespace: pricing-agent
spec:
  provider:
    aws:
      service: SecretsManager
      region: us-east-1
      auth:
        secretRef:
          accessKeyID:
            name: aws-credentials
            key: access-key-id
          secretAccessKey:
            name: aws-credentials
            key: secret-access-key

---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: pricing-external-secrets
  namespace: pricing-agent
spec:
  refreshInterval: 15s
  secretStoreRef:
    name: pricing-secret-store
    kind: SecretStore
  target:
    name: pricing-agent-external-secrets
    creationPolicy: Owner
  data:
  - secretKey: SECRET_KEY
    remoteRef:
      key: pricing-agent/django-secret-key
  - secretKey: POSTGRES_PASSWORD
    remoteRef:
      key: pricing-agent/postgres-password
  - secretKey: REDIS_PASSWORD
    remoteRef:
      key: pricing-agent/redis-password